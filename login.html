<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login | Boost Your Social Media</title>

<style>
body{
  margin:0;
  font-family:Segoe UI,Tahoma,sans-serif;
  background:#f5f7fb;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.card{
  background:#fff;
  padding:35px;
  width:360px;
  border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.1);
}
h2{text-align:center;margin-bottom:10px}
p{text-align:center;color:#6b7280;font-size:14px}
input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid #c7cbe0;
  margin:10px 0;
}
button{
  width:100%;
  padding:12px;
  border-radius:30px;
  border:none;
  cursor:pointer;
  font-weight:600;
  background:linear-gradient(135deg,#4f46e5,#9333ea);
  color:#fff;
  margin-top:10px;
}
button.outline{
  background:none;
  color:#4f46e5;
  border:2px solid #4f46e5;
}
.msg{
  text-align:center;
  margin-top:12px;
  font-size:14px;
}
</style>
</head>

<body>

<div class="card">
  <h2>Login</h2>
  <p>Access your Boost Social account</p>

  <input type="email" id="email" placeholder="Email address">
  <input type="password" id="password" placeholder="Password">

  <button id="loginBtn">Login</button>
  <button class="outline" id="registerBtn">Register</button>

  <div class="msg" id="msg"></div>
</div>

<!-- FIREBASE AUTH -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import {
    getAuth,
    signInWithEmailAndPassword,
    createUserWithEmailAndPassword,
    onAuthStateChanged
  } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  // âœ… REAL FIREBASE CONFIG
  const firebaseConfig = {
    apiKey: "AIzaSyCg5PR2-PR9m_Q5c2iHZXxbltgJONLWp4k",
    authDomain: "boost-your-social-media.firebaseapp.com",
    projectId: "boost-your-social-media",
    storageBucket: "boost-your-social-media.firebasestorage.app",
    messagingSenderId: "855967474442",
    appId: "1:855967474442:web:75161f8b8bc5a2dccb90f3"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const msg = document.getElementById("msg");
  const emailInput = document.getElementById("email");
  const passwordInput = document.getElementById("password");

  // ðŸ” Already logged user â†’ dashboard
  onAuthStateChanged(auth, (user) => {
    if (user) {
      window.location.href = "dashboard.html";
    }
  });

  // LOGIN
  document.getElementById("loginBtn").addEventListener("click", () => {
    const email = emailInput.value.trim();
    const password = passwordInput.value.trim();

    if (!email || !password) {
      msg.style.color = "red";
      msg.innerText = "Please enter email and password";
      return;
    }

    signInWithEmailAndPassword(auth, email, password)
      .then(() => {
        msg.style.color = "green";
        msg.innerText = "Login successful...";
        setTimeout(() => {
          window.location.href = "dashboard.html";
        }, 600);
      })
      .catch((error) => {
        msg.style.color = "red";
        msg.innerText = error.message;
      });
  });

  // REGISTER
  document.getElementById("registerBtn").addEventListener("click", () => {
    const email = emailInput.value.trim();
    const password = passwordInput.value.trim();

    if (!email || !password) {
      msg.style.color = "red";
      msg.innerText = "Please enter email and password";
      return;
    }

    createUserWithEmailAndPassword(auth, email, password)
      .then(() => {
        msg.style.color = "green";
        msg.innerText = "Account created! Please login.";
      })
      .catch((error) => {
        msg.style.color = "red";
        msg.innerText = error.message;
      });
  });
</script>

</body>
</html>
